{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="container mt-4">
  <div class="row">
    <!-- LEFT SIDE: MAIN IMAGE + GALLERY -->
    <div class="col-md-5">
      <div class="card shadow-sm">
        <img
          id="main-img"
          src="{{ product.product_image.url }}"
          class="card-img-top"
          style="height: 450px; object-fit: cover"
        />
      </div>

      <!-- THUMBNAILS -->
      <div class="d-flex gap-2 mt-2">
        {% for img in product_gallery %}
        <img
          src="{{ img.image.url }}"
          width="80"
          style="cursor: pointer; border: 1px solid #ddd; padding: 3px"
          onclick="document.getElementById('main-img').src='{{ img.image.url }}'"
        />
        {% endfor %}
      </div>
    </div>

    <!-- RIGHT SIDE: PRODUCT DETAILS -->
    <div class="col-md-7">
      <h2 class="fw-bold">{{ product.product_name }}</h2>

      <p class="text-muted">
        Category:
        <a href="{{ category.get_url }}" class="fw-semibold">
          {{ category.category_name }}
        </a>
      </p>

      <h3 class="text-success fw-bold">â‚¹{{ product.price }}</h3>

      {% if product.stock == 0 %}
      <span class="badge bg-danger mb-2">Out of Stock</span>
      {% endif %}

      <hr />

      <p>{{ product.description }}</p>

      <!-- ADD TO CART BUTTON -->
      <a
        href="{% url 'add_cart' product.id %}"
        class="btn btn-warning btn-lg mt-3 w-100"
      >
        <i class="fa fa-shopping-cart"></i> Add to Cart
      </a>
    </div>
  </div>
</div>

{% endblock %}
